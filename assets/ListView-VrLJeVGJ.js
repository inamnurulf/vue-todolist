import{b as g,d as f,_ as v,m as x,e as w,r as y,o as n,c,a as e,w as k,f as I,g as p,v as C,h as L,t as r,F as h,i as V,n as $,j as D,k as S,p as F,l as B}from"./index-vZh7R6Ui.js";import{B as N}from"./BaseInput-NFTiS_Gl.js";const b="/api/todo",A=()=>g.get(`${b}`),j=t=>g.post(`${b}`,t),u=f({id:"list",state:()=>({list:[]}),actions:{async a$list(){try{const{data:t}=await A();this.list=t}catch({message:t,error:s}){throw t??s}},async a$add(t){try{await j(t),await this.a$list()}catch({message:s,error:l}){throw s??l}},removeIndex(t){this.list=this.list.filter((s,l)=>t!==l)},editIndex(t,s){this.list[t]=s}},getters:{getList:({list:t})=>t,getDetail:({list:t})=>s=>t[s]}}),m={title:"",description:"",category:"",completed:!1},E={name:"ListView",data:()=>({input:{...m},editing:!1,table:{columns:["id","title","description","completed"],actions:[{title:"Handle",event:"handle-event"}]}}),components:{BaseInput:N},computed:{...x(u,["getList","getDetail"])},async mounted(){await this.a$list()},methods:{...w(u,["a$list","a$add","editIndex","removeIndex"]),resetForm(){Object.assign(this.input,m),this.editing=!1},addForm(t){console.log(t),this.editing===!1?this.a$add({...this.input}):this.editIndex(this.editing,{...this.input}),this.resetForm()},detailList(t){this.editing=t,this.input={...this.getDetail(t)}},toggleCompleted(t){const s=this.getDetail(t);this.editIndex(t,{...s,completed:!s.completed})},handleLogEvent(t){console.log(t)}}},o=t=>(F("data-v-ee7b8267"),t=t(),B(),t),M={class:"p-4"},U={class:"bg-white p-4 rounded-lg"},q=o(()=>e("h1",{class:"text-2xl font-bold mb-4"},"Add New Data",-1)),T={class:"flex flex-col p-4"},z=o(()=>e("label",{for:"completed"},"Completed",-1)),H={type:"submit",class:"bg-blue-500 text-white px-4 py-2 mr-2"},O=o(()=>e("button",{type:"reset",class:"bg-gray-300 text-gray-700 px-4 py-2"}," Cancel ",-1)),R={class:"bg-white rounded-lg mt-4 p-4"},G=o(()=>e("h1",{class:"text-2xl font-bold mb-4"},"List",-1)),J={class:"list"},K=o(()=>e("hr",{class:"my-2"},null,-1)),P=["onDblclick"],Q={class:"flex justify-between"},W={class:"flex flex-col"},X={class:"text-lg font-bold"},Y={key:0,class:"pi pi-check text-lg"},Z={class:"text-base"},tt={class:"flex items-center"},et=["onClick","disabled"],st=o(()=>e("i",{class:"pi pi-trash text-lg"},null,-1)),it=[st],ot=["onClick","disabled"],lt=o(()=>e("i",{class:"pi pi-file-edit text-lg"},null,-1)),dt=[lt],at=o(()=>e("hr",{class:"my-2"},null,-1));function nt(t,s,l,ct,rt,d){const _=y("base-input");return n(),c("div",M,[e("div",U,[q,e("form",{onSubmit:s[3]||(s[3]=k(i=>d.addForm(i),["prevent"])),method:"post",onReset:s[4]||(s[4]=()=>d.resetForm()),class:"mb-4"},[e("div",T,[I(_,{modelValue:t.input.title,"onUpdate:modelValue":s[0]||(s[0]=i=>t.input.title=i),class:"input mb-2 border rounded-lg p-2",placeholder:"add new",required:""},null,8,["modelValue"]),p(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.input.description=i),class:"input mb-2 border rounded-lg p-2 min-h-[10vh]",placeholder:"description",required:""},null,512),[[C,t.input.description]]),e("div",null,[p(e("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>t.input.completed=i),type:"checkbox",class:"mr-2",id:"completed"},null,512),[[L,t.input.completed]]),z])]),e("button",H,r(t.editing!==!1?"Edit":"Add"),1),O],32)]),e("div",R,[G,e("ol",J,[(n(!0),c(h,null,V(t.getList,(i,a)=>(n(),c(h,{key:a},[K,e("li",{onDblclick:()=>d.toggleCompleted(a),class:$([{"line-through":i.completed},"mb-2"])},[e("div",Q,[e("div",W,[e("div",X,[D(r(i.title)+" ",1),i.completed?(n(),c("i",Y)):S("",!0)]),e("div",Z,r(i!=null&&i.description?`${i.description}`:""),1)]),e("div",tt,[e("button",{class:"pointer hover:bg-red-500 text-red-500 hover:text-white p-1 rounded-lg mx-2",onClick:()=>t.removeIndex(a),disabled:t.editing!==!1},it,8,et),e("button",{class:"hover:bg-blue-500 text-blue-500 hover:text-white p-1 rounded-lg mx-2",onClick:()=>d.detailList(a),disabled:t.editing!==!1},dt,8,ot)])])],42,P)],64))),128))]),at])])}const ut=v(E,[["render",nt],["__scopeId","data-v-ee7b8267"]]);export{ut as default};
