import{b as p,d as v,_ as x,m as w,e as y,r as k,o as n,c as r,a as e,w as I,f as $,g as m,v as C,h as L,t as c,F as g,i as V,j as D,k as S,p as F,l as B}from"./index-PQSZsUry.js";import{B as N}from"./BaseInput-lH1n8Xwm.js";const h="/api/todo",A=()=>p.get(`${h}`),j=t=>p.post(`${h}`,t),E=t=>{p.delete(`${h}/${t}`)},b=v({id:"list",state:()=>({list:[]}),actions:{async a$list(){try{const{data:t}=await A();this.list=t}catch({message:t,error:s}){throw t??s}},async a$add(t){try{await j(t),await this.a$list()}catch({message:s,error:l}){throw s??l}},async removeIndex(t,s){try{await E(t),this.list=this.list.filter((l,u)=>s!==u)}catch(l){console.error(l)}},editIndex(t,s){this.list[t]=s}},getters:{getList:({list:t})=>t,getDetail:({list:t})=>s=>t[s]}}),_={title:"",description:"",category:"",completed:!1},M={name:"ListView",data:()=>({input:{..._},editing:!1}),components:{BaseInput:N},computed:{...w(b,["getList","getDetail"])},async mounted(){await this.a$list()},methods:{...y(b,["a$list","a$add","editIndex","removeIndex"]),resetForm(){Object.assign(this.input,_),this.editing=!1},addForm(t){console.log(t),this.editing===!1?this.a$add({...this.input}):this.editIndex(this.editing,{...this.input}),this.resetForm()},detailList(t){this.editing=t,this.input={...this.getDetail(t)}},toggleCompleted(t){const s=this.getDetail(t);this.editIndex(t,{...s,completed:!s.completed})},handleLogEvent(t){console.log(t)}}},i=t=>(F("data-v-b6eaa54f"),t=t(),B(),t),U={class:"p-4"},q={class:"bg-white p-4 rounded-lg"},T=i(()=>e("h1",{class:"text-2xl font-bold mb-4"},"Add New Data",-1)),O={class:"flex flex-col p-4"},R=i(()=>e("label",{for:"completed"},"Completed",-1)),z={type:"submit",class:"bg-blue-500 text-white px-4 py-2 mr-2 rounded-lg"},G=i(()=>e("button",{type:"reset",class:"bg-gray-300 text-gray-700 px-4 py-2 rounded-lg"}," Cancel ",-1)),H={class:"bg-white rounded-lg mt-4 p-4"},J=i(()=>e("h1",{class:"text-2xl font-bold mb-4"},"List",-1)),K={class:"list overflow-y-auto max-h-[45vh]"},P=i(()=>e("hr",{class:"my-2"},null,-1)),Q=["onDblclick"],W={class:"flex justify-between"},X={class:"flex flex-col"},Y={class:"text-lg font-bold"},Z={key:0,class:"pi pi-check text-lg text-green-500"},tt={class:"text-base"},et={class:"flex items-center"},st=["onClick","disabled"],ot=i(()=>e("i",{class:"pi pi-trash text-lg"},null,-1)),it=[ot],lt=["onClick","disabled"],dt=i(()=>e("i",{class:"pi pi-file-edit text-lg"},null,-1)),at=[dt],nt=i(()=>e("hr",{class:"my-2"},null,-1));function rt(t,s,l,u,ct,d){const f=k("base-input");return n(),r("div",U,[e("div",q,[T,e("form",{onSubmit:s[3]||(s[3]=I(o=>d.addForm(o),["prevent"])),method:"post",onReset:s[4]||(s[4]=()=>d.resetForm()),class:"mb-4"},[e("div",O,[$(f,{modelValue:t.input.title,"onUpdate:modelValue":s[0]||(s[0]=o=>t.input.title=o),class:"input mb-2 border rounded-lg p-2",placeholder:"add new",required:""},null,8,["modelValue"]),m(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.input.description=o),class:"input mb-2 border rounded-lg p-2 min-h-[10vh]",placeholder:"description",required:""},null,512),[[C,t.input.description]]),e("div",null,[m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.input.completed=o),type:"checkbox",class:"mr-2",id:"completed"},null,512),[[L,t.input.completed]]),R])]),e("button",z,c(t.editing!==!1?"Edit":"Add"),1),G],32)]),e("div",H,[J,e("ol",K,[(n(!0),r(g,null,V(t.getList,(o,a)=>(n(),r(g,{key:a},[P,e("li",{onDblclick:()=>d.toggleCompleted(a),class:"mb-2"},[e("div",W,[e("div",X,[e("div",Y,[D(c(o.title)+" ",1),o.completed?(n(),r("i",Z)):S("",!0)]),e("div",tt,c(o!=null&&o.description?`${o.description}`:""),1)]),e("div",et,[e("button",{class:"pointer hover:bg-red-500 text-red-500 hover:text-white p-1 rounded-lg mx-2",onClick:()=>t.removeIndex(o.id,a),disabled:t.editing!==!1},it,8,st),e("button",{class:"hover:bg-blue-500 text-blue-500 hover:text-white p-1 rounded-lg mx-2",onClick:()=>d.detailList(a),disabled:t.editing!==!1},at,8,lt)])])],40,Q)],64))),128))]),nt])])}const ut=x(M,[["render",rt],["__scopeId","data-v-b6eaa54f"]]);export{ut as default};
