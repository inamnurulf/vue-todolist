import{_ as m,m as h,f as c,g,c as n,j as $,h as l,t as b,l as p,a as t,o as r}from"./index-W87rR0X-.js";import{B as f}from"./BaseInput-vSoWwr5J.js";const d={username:"",password:""},V={data:()=>({input:{...d}}),components:{BaseInput:f},computed:{...h(p,["g$user","isLoggedIn"])},methods:{...c(p,["a$login","a$setUser"]),resetForm(){Object.assign(this.input,d)},async submitForm(){try{await this.a$login(this.input),this.a$setUser(),this.resetForm(),this.$router.replace({name:"Authenticated",params:{id:this.g$user.id}})}catch(e){console.error(e)}}}},w=t("h1",null,"Login",-1),_=t("br",null,null,-1),y=t("br",null,null,-1),B=t("button",{type:"submit"},"Login",-1),F={key:1};function L(e,s,k,I,U,a){var u;const i=g("base-input");return r(),n("div",null,[w,e.isLoggedIn?(r(),n("h3",F,b((u=e.g$user)==null?void 0:u.id),1)):(r(),n("form",{key:0,method:"post",onSubmit:s[2]||(s[2]=$(()=>a.submitForm(),["prevent"])),onReset:s[3]||(s[3]=()=>a.resetForm())},[l(i,{class:"input",modelValue:e.input.username,"onUpdate:modelValue":s[0]||(s[0]=o=>e.input.username=o),placeholder:"input username",required:""},null,8,["modelValue"]),_,l(i,{class:"input",modelValue:e.input.password,"onUpdate:modelValue":s[1]||(s[1]=o=>e.input.password=o),placeholder:"input password",type:"password",required:""},null,8,["modelValue"]),y,B],32))])}const j=m(V,[["render",L]]);export{j as default};
